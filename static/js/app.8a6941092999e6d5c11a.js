webpackJsonp([1],{Et1L:function(n,o,e){"use strict";var t=function(){var n=this,o=n.$createElement,e=n._self._c||o;return e("div",[e("h2",[n._v(n._s(n.msg))]),n._v(" "),n._m(0),n._v(" "),e("div",{staticClass:"control"},[e("button",{on:{click:function(o){n.joinRoom(n.sessionID)}}},[n._v("Join Room")]),n._v(" "),e("button",{on:{click:function(o){n.mute()}}},[n._v(" Mute / Unmute")]),n._v(" "),e("button",{on:{click:function(o){n.dropCall()}}},[n._v("End Call")])]),n._v(" "),e("div",{attrs:{id:"subcriberContainer"}})])},s=[function(){var n=this,o=n.$createElement,e=n._self._c||o;return e("div",{staticClass:"content"},[e("div",{attrs:{id:"publisherContainer"}})])}],i={render:t,staticRenderFns:s};o.a=i},M93x:function(n,o,e){"use strict";function t(n){e("q+sR")}var s=e("xJD8"),i=e("PO8x"),c=e("VU/8"),r=t,a=c(s.a,i.a,!1,r,null,null);o.a=a.exports},NHnr:function(n,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var t=e("7+uW"),s=e("M93x"),i=e("YaEn");t.a.config.productionTip=!1,new t.a({el:"#app",router:i.a,template:"<App/>",components:{App:s.a}})},PO8x:function(n,o,e){"use strict";var t=function(){var n=this,o=n.$createElement,e=n._self._c||o;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},s=[],i={render:t,staticRenderFns:s};o.a=i},TGvd:function(n,o,e){"use strict";function t(n){e("qHLi")}var s=e("aEfQ"),i=e("rsDA"),c=e("VU/8"),r=t,a=c(s.a,i.a,!1,r,"data-v-f520327c",null);o.a=a.exports},YaEn:function(n,o,e){"use strict";var t=e("7+uW"),s=e("/ocq"),i=e("TGvd"),c=e("t3u0");t.a.use(s.a),o.a=new s.a({routes:[{path:"/",name:"Home",component:i.a},{path:"room/:id",name:"Room",component:c.a,props:!0}]})},aEfQ:function(n,o,e){"use strict";var t=e("kaBF"),s=e("mtWM"),i=e.n(s),c=this;o.a={name:"Dashboard",data:function(){return{msg:"Choose rooms to join",rooms:[]}},created:function(){var n=this;i.a.get(t.a.apiBaseUrl+"/rooms").then(function(o){n.rooms=o.data}).catch(function(o){n.rooms.push(o)})},methods:{enterRoom:function(n){console.log("Room Name:",n.room),console.log("Session ID:",n.sessionID),c.$router.push({name:"Room",params:{id:n.sessionID}})}}}},kaBF:function(n,o,e){"use strict";o.a={apiKey:"45959522",apiBaseUrl:"https://apitokbox.herokuapp.com"}},"q+sR":function(n,o){},qHLi:function(n,o){},rsDA:function(n,o,e){"use strict";var t=function(){var n=this,o=n.$createElement,e=n._self._c||o;return e("div",{staticClass:"hello"},[e("h1",[n._v(n._s(n.msg))]),n._v(" "),e("ul",n._l(n.rooms,function(o){return e("li",[e("router-link",{attrs:{to:{name:"Room",params:{id:o.sessionID}}}},[n._v(n._s(o.room))])],1)}))])},s=[],i={render:t,staticRenderFns:s};o.a=i},t3u0:function(n,o,e){"use strict";function t(n){e("w41u")}var s=e("xLEQ"),i=e("Et1L"),c=e("VU/8"),r=t,a=c(s.a,i.a,!1,r,"data-v-167796c6",null);o.a=a.exports},w41u:function(n,o){},xJD8:function(n,o,e){"use strict";o.a={name:"app"}},xLEQ:function(n,o,e){"use strict";var t=e("kaBF"),s=e("mtWM"),i=e.n(s),c=null,r=window.OT,a=null;o.a={name:"Room",props:["id"],data:function(){return{msg:"Welcome Aboard",sessionID:this.$route.params.id}},methods:{joinRoom:function(n){var o=this;1===r.checkSystemRequirements()?c=r.initSession(t.a.apiKey,n):console.error("Browser does not support webrtc"),i.a.post(t.a.apiBaseUrl+"/rooms/token",{sessionID:n,tokenType:"publisher",username:"test"}).then(function(n){c.connect(n.data.token,function(n){n?console.error("Error",n):(o.bindSessionEvents(c),o.publishVideo())})}).catch(function(n){console.error(n)})},bindSessionEvents:function(n){console.log("session",n.connection.connectionId),n.on("connectionCreated",function(o){o.connection.connectionId!==n.connection.connectionId?console.log("Attending joining",o.connection.connectionId):console.log("connection created",o.connection.connectionId)}),n.on("sessionDisconnected",function(n){console.log("session disconnecting")}),n.on("streamDestroyed",function(n){console.log("stream disconnected")})},publishVideo:function(){var n=this,o={insertMode:"append"};a=r.initPublisher("publisherContainer",o,function(o){o||(console.log("publisher initialised"),n.bindPublisherEvent(),n.publishVideoToSession())})},publishVideoToSession:function(){c.publish(a,function(n){n?console.error(n):console.log("publishing a stream")})},bindPublisherEvent:function(){a.on({accessAllowed:function(n){console.log("publish",n)},acessDenied:function(n){console.log("publish",n)},streamCreated:function(n){console.log("event",n);var o={testNetwork:!0};c.subscribe(n.stream,"subcriberContainer",o,function(n){console.error("subscriber",n)})}})},subscribeCallback:function(n){console.error("subscriber",n)},mute:function(){console.log("Mute Called")},dropCall:function(){c.disconnect(),c=null,console.log("Drop call")}}}}},["NHnr"]);
//# sourceMappingURL=app.8a6941092999e6d5c11a.js.map